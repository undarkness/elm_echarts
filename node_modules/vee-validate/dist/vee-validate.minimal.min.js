!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e=e||self).VeeValidate={},e.Vue)}(this,function(e,t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var h=function(){return(h=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function n(a,s,o,u){return new(o=o||Promise)(function(e,t){function r(e){try{i(u.next(e))}catch(e){t(e)}}function n(e){try{i(u.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new o(function(e){e(t.value)}).then(r,n)}i((u=u.apply(a,s||[])).next())})}function f(r,n){var i,a,s,e,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return o.label++,{value:t[1],done:!1};case 5:o.label++,a=t[1],t=[0];continue;case 7:t=o.ops.pop(),o.trys.pop();continue;default:if(!(s=0<(s=o.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){o=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){o.label=t[1];break}if(6===t[0]&&o.label<s[1]){o.label=s[1],s=t;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(t);break}s[2]&&o.ops.pop(),o.trys.pop();continue}t=n.call(r,o)}catch(e){t=[6,e],a=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function i(e){return e!=e}function u(n){var e={};return Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),n?d(n)&&n._$$isNormalized?n:d(n)?Object.keys(n).reduce(function(e,t){var r=[];return r=!0===n[t]?[]:Array.isArray(n[t])?n[t]:d(n[t])?n[t]:[n[t]],!1!==n[t]&&(e[t]=r),e},e):"string"!=typeof n?(r("rules must be either a string or an object."),e):n.split("|").reduce(function(e,t){var r=function(e){var t=[],r=e.split(":")[0];return b(e,":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:r,params:t}}(t);return r.name&&(e[r.name]=r.params),e},e):e}var c=function(e){return null==e},a=function(t,r){if(t instanceof RegExp&&r instanceof RegExp)return a(t.source,r.source)&&a(t.flags,r.flags);if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return!1;for(var e=0;e<t.length;e++)if(!a(t[e],r[e]))return!1;return!0}return d(t)&&d(r)?Object.keys(t).every(function(e){return a(t[e],r[e])})&&Object.keys(r).every(function(e){return a(t[e],r[e])}):!(!i(t)||!i(r))||t===r},s=function(r,n,i){return void 0===n&&(n=0),void 0===i&&(i={cancelled:!1}),0===n?r:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];clearTimeout(a),(a=setTimeout(function(){a=void 0,i.cancelled||r.apply(void 0,e)},n))||r.apply(void 0,e)};var a},r=function(e){console.warn("[vee-validate] "+e)},d=function(e){return null!==e&&e&&"object"==typeof e&&!Array.isArray(e)};function o(e){return e}var l=function(e){return"function"==typeof e};function v(e){if(l(Array.from))return Array.from(e);for(var t=[],r=e.length,n=0;n<r;n++)t.push(e[n]);return t}function p(e,t){for(var r=Array.isArray(e)?e:v(e),n=0;n<r.length;n++)if(t(r[n]))return n;return-1}var m=function(t,r){return d(t)&&d(r)&&Object.keys(r).forEach(function(e){if(d(r[e]))return t[e]||(t[e]={}),void m(t[e],r[e]);t[e]=r[e]}),t};function g(t){return l(Object.values)?Object.values(t):Object.keys(t).map(function(e){return t[e]})}var b=function(e,t){return-1!==e.indexOf(t)},y="en";function _(e){this.container={},this.merge(e)}var O={default:new(Object.defineProperty(_.prototype,"locale",{get:function(){return y},set:function(e){y=e||"en"},enumerable:!0,configurable:!0}),_.prototype._hasLocale=function(e){return!!this.container[e]},_.prototype.getMessage=function(e,t,r){var n=null;return n=this._hasMessage(e,t)?this.container[e].messages[t]:this._getDefaultMessage(e),l(n)?n.apply(void 0,r):n},_.prototype.getFieldMessage=function(e,t,r,n){if(!this._hasLocale(e))return this.getMessage(e,r,n);var i=this.container[e].custom&&this.container[e].custom[t];if(!i||!i[r])return this.getMessage(e,r,n);var a=i[r];return l(a)?a.apply(void 0,n):a},_.prototype.merge=function(e){m(this.container,e)},_.prototype._getDefaultMessage=function(e){return this._hasMessage(e,"_default")?this.container[e].messages._default:this.container.en.messages._default},_.prototype.getAttribute=function(e,t,r){return void 0===r&&(r=""),this._hasAttribute(e,t)?this.container[e].attributes[t]:r},_.prototype._hasMessage=function(e,t){return!!(this._hasLocale(e)&&this.container[e].messages&&this.container[e].messages[t])},_.prototype._hasAttribute=function(e,t){return!!(this._hasLocale(e)&&this.container[e].attributes&&this.container[e].attributes[t])},_)({en:{messages:{},attributes:{},custom:{}}})},$="default",R=(A.setDriver=function(e){if("string"!=typeof e){var t=Date.now().toString().substring(7);O[t]=e,$=t}else $=e},A.getDriver=function(){return O[$]},A);function A(){}var x={},w=(E.extend=function(e,t){var r=h({immediate:!0,computesRequired:!1},t);x[e]&&(r=m(x[e],r)),x[e]=r},E.isImmediate=function(e){return!(!x[e]||!x[e].immediate)},E.isRequireRule=function(e){return!(!x[e]||!x[e].computesRequired)},E.isTargetRule=function(e){var t=E.getRuleDefinition(e);return!!t.params&&t.params.some(function(e){return!!e.isTarget})},E.getRuleDefinition=function(e){return x[e]},E);function E(){}var j=(Object.defineProperty(D.prototype,"locale",{get:function(){return D.locale},set:function(e){D.locale=e},enumerable:!0,configurable:!0}),Object.defineProperty(D,"locale",{get:function(){return R.getDriver().locale},set:function(e){},enumerable:!0,configurable:!0}),D.prototype.localize=function(e,t){D.localize(e,t)},D.localize=function(e,t){var r;if(d(e))R.getDriver().merge(e);else{if(t){var n=e||t.name;if(!n)return;R.getDriver().merge(((r={})[n]=t,r))}e&&(D.locale=e)}},D.prototype.validate=function(a,s,o){return void 0===o&&(o={}),n(this,void 0,void 0,function(){var t,r,n,i;return f(this,function(e){switch(e.label){case 0:return t={name:o&&o.name||"{field}",rules:u(s),bails:function(e,t,r){if(void 0===r&&(r=void 0),!e||!t)return r;var n=t;return e.split(".").every(function(e){return e in n?(n=n[e],!0):(n=r,!1)}),n}("bails",o,this.bails),forceRequired:!1,crossTable:o&&o.values,names:o&&o.names||{}},[4,this._validate(t,a,o)];case 1:return r=e.sent(),n=[],i={},r.errors.forEach(function(e){n.push(e.msg),i[e.rule]=e.msg}),[2,{valid:r.valid,errors:n,failedRules:i}]}})})},D.prototype._validate=function(l,c,e){var t=(void 0===e?{}:e).isInitial,d=void 0!==t&&t;return n(this,void 0,void 0,function(){var t,r,n,i,a,s,o,u;return f(this,function(e){switch(e.label){case 0:return[4,this._shouldSkip(l,c)];case 1:if(t=e.sent(),r=t.shouldSkip,n=t.errors,r)return[2,{valid:!n.length,errors:n}];i=Object.keys(l.rules).filter(function(e){return!w.isRequireRule(e)}),a=i.length,s=0,e.label=2;case 2:return s<a?d&&!w.isImmediate(i[s])?[3,4]:(o=i[s],[4,this._test(l,c,{name:o,params:l.rules[o]})]):[3,5];case 3:if(!(u=e.sent()).valid&&(n.push.apply(n,u.errors),l.bails))return[2,{valid:!1,errors:n}];e.label=4;case 4:return s++,[3,2];case 5:return[2,{valid:!n.length,errors:n}]}})})},D.prototype._shouldSkip=function(u,l){return n(this,void 0,void 0,function(){var t,r,n,i,a,s,o;return f(this,function(e){switch(e.label){case 0:t=Object.keys(u.rules).filter(w.isRequireRule),r=t.length,i=!(n=[]),a=0,e.label=1;case 1:return a<r?(s=t[a],[4,this._test(u,l,{name:s,params:u.rules[s]})]):[3,4];case 2:if(o=e.sent(),!d(o))throw new Error("Require rules has to return an object (see docs)");if(o.data.required&&(i=!0),!o.valid&&(n.push.apply(n,o.errors),u.bails))return[2,{shouldSkip:!0,errors:n}];e.label=3;case 3:return a++,[3,1];case 4:return u.bails?[2,{shouldSkip:!i&&(c(l)||""===l||function(e){return Array.isArray(e)&&0===e.length}(l)),errors:n}]:[2,{shouldSkip:!1,errors:n}]}})})},D.prototype._test=function(i,a,s){return n(this,void 0,void 0,function(){var t,r,n;return f(this,function(e){switch(e.label){case 0:if(!(t=w.getRuleDefinition(s.name)).validate)throw new Error("No such validator '"+s.name+"' exists.");return r=this._buildParams(s.params,t.params,i.crossTable),[4,t.validate(a,r)];case 1:return n=e.sent(),d(n)||(n={valid:n,data:{}}),[2,{valid:n.valid,data:n.data||{},errors:n.valid?[]:[this._createFieldError(i,s,r,n.data)]}]}})})},D.prototype._buildParams=function(e,n,t){var r,i,a={};if(!n&&!Array.isArray(e))throw new Error("You provided an object params to a rule that has no defined schema.");if(Array.isArray(e)&&!n)return e;r=!n||n.length<e.length?e.map(function(e,t){var r=n&&n[t];return i=r||i,r=r||i}):n;for(var s=0;s<r.length;s++){var o=r[s],u=o.default;Array.isArray(e)?s in e&&(u=e[s]):u=o.name in e?e[o.name]:u,o.isTarget&&(u=t[u]),o.cast&&(u=o.cast(u)),a[o.name]?(a[o.name]=Array.isArray(a[o.name])?a[o.name]:[a[o.name]],a[o.name].push(u)):a[o.name]=u}return a},D.prototype._createFieldError=function(e,t,r,n){var i=this;return{field:e.name,msg:this._formatErrorMessage(e,t,r,n),rule:t.name,regenerate:function(){return i._formatErrorMessage(e,t,r,n)}}},D.prototype._formatErrorMessage=function(e,t,r,n){void 0===n&&(n={});var i=this._getFieldDisplayName(e);return n.targetName=e.names[t.name]||"{target}",n.targetName=R.getDriver().getAttribute(this.locale,n.targetName)||n.targetName,R.getDriver().getFieldMessage(this.locale,e.name,t.name,[i,r,n])},D.prototype._getFieldDisplayName=function(e){return e.alias||R.getDriver().getAttribute(this.locale,e.name)||e.name},D);function D(e){void 0===e&&(e={bails:!0}),this.bails=!(!c(e&&e.bails)&&!e.bails)}function V(e,t){var r,n;t.message&&R.getDriver().merge(((r={})[R.getDriver().locale]={messages:(n={},n[e]=t.message,n)},r)),w.extend(e,t)}function k(){return q}function S(e){q=h({},q,e)}var q=h({},{locale:"en",classNames:{touched:"touched",untouched:"untouched",valid:"valid",invalid:"invalid",pristine:"pristine",dirty:"dirty"},bails:!0,aria:!0,validity:!1,mode:"aggressive",useConstraintAttrs:!0,dictionary:{},delay:0});function z(e){if(!function(e){return!!e&&(!!("undefined"!=typeof Event&&l(Event)&&e instanceof Event)||!(!e||!e.srcElement))}(e))return e;var t=e.target;return"file"===t.type&&t.files?v(t.files):t.value}var N=function(e){var t=e.data&&e.data.attrs||e.elm;return b(["text","password","search","email","tel","url","textarea","number"],t&&t.type)};function F(e){if(!e.data)return null;var t=e.data;return"model"in t?t.model:e.data.directives?function(e,t){var r=Array.isArray(e)?e:v(e),n=p(r,t);return-1===n?void 0:r[n]}(e.data.directives,function(e){return"model"===e.name}):null}function P(e){return!Array.isArray(e)&&F(e)?[e]:function(e){return Array.isArray(e)?e:Array.isArray(e.children)?e.children:e.componentOptions&&Array.isArray(e.componentOptions.children)?e.componentOptions.children:[]}(e).reduce(function(e,t){var r=P(t);return r.length&&e.push.apply(e,r),e},[])}function M(e){return e.componentOptions?e.componentOptions.Ctor.options.model:null}function T(e,t,r){if(l(e[t])){var n=e[t];e[t]=[n]}Array.isArray(e[t])?e[t].push(r):c(e[t])&&(e[t]=[r])}function I(e,t,r){e.componentOptions&&function(e,t,r){e.componentOptions&&(e.componentOptions.listeners||(e.componentOptions.listeners={}),T(e.componentOptions.listeners,t,r))}(e,t,r),function(e,t,r){e.data||(e.data={}),c(e.data.on)&&(e.data.on={}),T(e.data.on,t,r)}(e,t,r)}function B(e,t){return e.componentOptions?(M(e)||{event:"input"}).event:t&&t.modifiers&&t.modifiers.lazy?"change":e.data&&e.data.attrs&&N(e)?"input":"change"}function W(e){var t=e.data&&e.data.attrs;if(!b(["input","select"],e.tag)||!t)return{};var r={};return"required"in t&&(r.required="checkbox"!==t.type||[!0]),N(e)?u(h({},r,function(e){var t=e.data&&e.data.attrs,r={};return t&&("email"===t.type&&(r.email=["multiple"in t]),t.pattern&&(r.regex=t.pattern),0<=t.maxlength&&(r.max=t.maxlength),0<=t.minlength&&(r.min=t.minlength),"number"===t.type&&(r.decimal=[],""!==t.min&&(r.min_value=Number(t.min)),""!==t.max&&(r.max_value=Number(t.max)))),r}(e))):u(r)}function L(e,t){return e.$scopedSlots.default?e.$scopedSlots.default(t)||[]:e.$slots.default||[]}var H,C={aggressive:function(){return{on:["input"]}},eager:function(e){return e.errors.length?{on:["input"]}:{on:["change","blur"]}},passive:function(){return{on:[]}},lazy:function(){return{on:["change"]}}};function G(r){return{errors:r.messages,flags:r.flags,classes:r.classes,valid:r.isValid,failedRules:r.failedRules,reset:function(){return r.reset()},validate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.validate.apply(r,e)},aria:{"aria-invalid":r.flags.invalid?"true":"false","aria-required":r.isRequired?"true":"false"}}}function Y(e,t){e.initialized||(e.initialValue=t.value);var r=function(e,t){return!(e._ignoreImmediate||!e.immediate)||(e.value!==t.value||(!!e._needsValidation||!e.initialized&&void 0===t.value))}(e,t);e._needsValidation=!1,e.value=t.value,e._ignoreImmediate=!0,r&&e.validateSilent().then(e.immediate||e.flags.validated?e.applyResult:function(e){return e})}function J(e){return(l(e.mode)?e.mode:C[e.mode])({errors:e.messages,value:e.value,flags:e.flags})}function K(r){var e=r.$veeHandler,t=J(r);return e&&r.$veeDebounce===r.debounce||(e=s(function(){r.$nextTick(function(){var t=r.validateSilent();(r._pendingValidation=t).then(function(e){t===r._pendingValidation&&(r.applyResult(e),r._pendingValidation=null)})})},t.debounce||r.debounce),r.$veeHandler=e,r.$veeDebounce=r.debounce),{onInput:function(e){r.syncValue(e),r.setFlags({dirty:!0,pristine:!1})},onBlur:function(){r.setFlags({touched:!0,untouched:!1})},onValidate:e}}var Q=0;var U=t.extend({inject:{$_veeObserver:{from:"$_veeObserver",default:function(){return this.$vnode.context.$_veeObserver||(this.$vnode.context.$_veeObserver={refs:{},subscribe:function(e){this.refs[e.vid]=e},unsubscribe:function(e){delete this.refs[e.vid]}}),this.$vnode.context.$_veeObserver}}},props:{vid:{type:String,default:function(){return"_vee_"+ ++Q}},name:{type:String,default:null},mode:{type:[String,Function],default:function(){return k().mode}},rules:{type:[Object,String],default:null},immediate:{type:Boolean,default:!1},persist:{type:Boolean,default:!1},bails:{type:Boolean,default:function(){return k().bails}},debounce:{type:Number,default:function(){return k().delay||0}},tag:{type:String,default:"span"},slim:{type:Boolean,default:!1}},watch:{rules:{deep:!0,handler:function(e,t){this._needsValidation=!a(e,t)}}},data:function(){return{messages:[],value:void 0,initialized:!1,initialValue:void 0,flags:{untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:!1,invalid:!1,validated:!1,pending:!1,required:!1,changed:!1},failedRules:{},forceRequired:!1,isDeactivated:!1,id:""}},computed:{isValid:function(){return this.flags.valid},fieldDeps:function(){var r=this;return Object.keys(this.normalizedRules).filter(w.isTargetRule).map(function(e){var t=r.normalizedRules[e][0];return function e(t,r,n){void 0===n&&(n=!0);var i=t.$_veeObserver.refs;t._veeWatchers||(t._veeWatchers={});if(!i[r]&&n)return t.$once("hook:mounted",function(){e(t,r,!1)});!l(t._veeWatchers[r])&&i[r]&&(t._veeWatchers[r]=i[r].$watch("value",function(){t.flags.validated&&(t._needsValidation=!0,t.validate())}))}(r,t),t})},normalizedEvents:function(){var t=this;return function(e){return e?"string"==typeof e?e.split("|"):e:[]}(J(this).on||[]).map(function(e){return"input"===e?t._inputEventName:e})},isRequired:function(){var e=h({},this._resolvedRules,this.normalizedRules),t=this.forceRequired,r=e.required||t;return this.flags.required=r},classes:function(){return function(i,a){for(var s={},o=Object.keys(a),e=o.length,t=function(e){var t=o[e],r=i&&i[t]||t,n=a[t];return c(n)?"continue":"valid"!==t&&"invalid"!==t||a.validated?void("string"==typeof r?s[r]=n:Array.isArray(r)&&r.forEach(function(e){s[e]=n})):"continue"},r=0;r<e;r++)t(r);return s}(k().classNames,this.flags)},normalizedRules:function(){return u(this.rules)}},render:function(e){var t=this;this.registerField();var r=L(this,G(this));return P(r).forEach(function(e){t._resolvedRules=W(e),function(e,t){var r=F(t);e._inputEventName=e._inputEventName||B(t,r),Y(e,r);var n=K(e),i=n.onInput,a=n.onBlur,s=n.onValidate;I(t,e._inputEventName,i),I(t,"blur",a),e.normalizedEvents.forEach(function(e){I(t,e,s)}),e.initialized=!0}(t,e)}),this.slim&&r.length<=1?r[0]:e(this.tag,r)},beforeDestroy:function(){this.$_veeObserver.unsubscribe(this)},activated:function(){this.$_veeObserver.subscribe(this),this.isDeactivated=!1},deactivated:function(){this.$_veeObserver.unsubscribe(this),this.isDeactivated=!0},methods:{setFlags:function(t){var r=this;Object.keys(t).forEach(function(e){r.flags[e]=t[e]})},syncValue:function(e){var t=z(e);this.value=t,this.flags.changed=this.initialValue!==t},reset:function(){this.messages=[],this.initialValue=this.value;var e={untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:!1,invalid:!1,validated:!1,pending:!1,required:!1,changed:!1};this.setFlags(e)},validate:function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return n(this,void 0,void 0,function(){var t;return f(this,function(e){switch(e.label){case 0:return 0<r.length&&this.syncValue(r[0]),[4,this.validateSilent()];case 1:return t=e.sent(),this.applyResult(t),[2,t]}})})},validateSilent:function(){return n(this,void 0,void 0,function(){var t,r;return f(this,function(e){switch(e.label){case 0:return this.setFlags({pending:!0}),t=h({},this._resolvedRules,this.normalizedRules),Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),[4,H.validate(this.value,t,{name:this.name,values:function(e){var r=e.$_veeObserver.refs;return e.fieldDeps.reduce(function(e,t){return r[t]&&(e[t]=r[t].value),e},{})}(this),bails:this.bails,isInitial:!this.initialized})];case 1:return r=e.sent(),this.setFlags({pending:!1}),this.isRequired||this.setFlags({valid:r.valid,invalid:!r.valid}),[2,r]}})})},applyResult:function(e){var t=e.errors,r=e.failedRules;this.messages=t,this.failedRules=h({},r),this.setFlags({valid:!t.length,changed:this.value!==this.initialValue,invalid:!!t.length,validated:!0})},registerField:function(){H=H||new j({bails:k().bails}),function(e){c(e.id)&&e.id===e.vid&&(e.id=""+Q,Q++);var t=e.id,r=e.vid;if(e.isDeactivated||t===r&&e.$_veeObserver.refs[t])return;t!==r&&e.$_veeObserver.refs[t]===e&&e.$_veeObserver.unsubscribe(e);e.$_veeObserver.subscribe(e),e.id=r}(this)}}});var X={pristine:"every",dirty:"some",touched:"some",untouched:"every",valid:"every",invalid:"some",pending:"some",validated:"every"};var Z=0;var ee=t.extend({name:"ValidationObserver",provide:function(){return{$_veeObserver:this}},inject:{$_veeObserver:{from:"$_veeObserver",default:function(){return this.$vnode.context.$_veeObserver?this.$vnode.context.$_veeObserver:null}}},props:{tag:{type:String,default:"span"},vid:{type:String,default:function(){return"obs_"+Z++}},slim:{type:Boolean,default:!1}},data:function(){return{refs:{},observers:[],inactiveRefs:{}}},computed:{ctx:function(){var t=this,e={errors:{},validate:function(e){var r=t.validate(e);return{then:function(t){r.then(function(e){return e&&l(t)?Promise.resolve(t()):Promise.resolve(e)})}}},reset:function(){return t.reset()}};return g(this.refs).concat(Object.keys(this.inactiveRefs).map(function(e){return{vid:e,flags:t.inactiveRefs[e].flags,messages:t.inactiveRefs[e].errors}}),this.observers).reduce(function(r,n){return Object.keys(X).forEach(function(e){var t=n.flags||n.ctx;r[e]=e in r?function(e,t,r){return[e,t][X[r]](function(e){return e})}(r[e],t[e],e):t[e]}),r.errors[n.vid]=n.messages||g(n.ctx.errors).reduce(function(e,t){return e.concat(t)},[]),r},e)}},created:function(){this.$_veeObserver&&this.$_veeObserver.subscribe(this,"observer")},activated:function(){this.$_veeObserver&&this.$_veeObserver.subscribe(this,"observer")},deactivated:function(){this.$_veeObserver&&this.$_veeObserver.unsubscribe(this,"observer")},beforeDestroy:function(){this.$_veeObserver&&this.$_veeObserver.unsubscribe(this,"observer")},render:function(e){var t=L(this,this.ctx);return this.slim&&t.length<=1?t[0]:e(this.tag,t)},methods:{subscribe:function(e,t){var r;void 0===t&&(t="provider"),"observer"!==t?(this.refs=Object.assign({},this.refs,((r={})[e.vid]=e,r)),e.persist&&this.inactiveRefs[e.vid]&&this.restoreProviderState(e)):this.observers.push(e)},unsubscribe:function(e,t){var r=e.vid;void 0===t&&(t="provider"),"provider"===t&&this.removeProvider(r);var n=p(this.observers,function(e){return e.vid===r});-1!==n&&this.observers.splice(n,1)},validate:function(e){var t=(void 0===e?{}:e).silent,r=void 0!==t&&t;return n(this,void 0,void 0,function(){return f(this,function(e){switch(e.label){case 0:return[4,Promise.all(g(this.refs).map(function(e){return e[r?"validateSilent":"validate"]().then(function(e){return e.valid})}).concat(this.observers.map(function(e){return e.validate({silent:r})})))];case 1:return[2,e.sent().every(function(e){return e})]}})})},reset:function(){var t=this;return Object.keys(this.inactiveRefs).forEach(function(e){t.$delete(t.inactiveRefs,e)}),g(this.refs).concat(this.observers).forEach(function(e){return e.reset()})},restoreProviderState:function(e){var t=this.inactiveRefs[e.vid];e.setFlags(t.flags),e.applyResult(t),this.$delete(this.inactiveRefs,e.vid)},removeProvider:function(e){var t=this.refs[e];t&&t.persist&&(this.inactiveRefs[e]={flags:t.flags,errors:t.messages,failedRules:t.failedRules}),this.$delete(this.refs,e)}}});e.ValidationObserver=ee,e.ValidationProvider=U,e.Validator=j,e.configure=function(e){S(e)},e.extend=function(e,t){!function(e,t){if(l(t))return;if(l(t.validate))return;if(w.getRuleDefinition(e))return;throw new Error("Extension Error: The validator '"+e+"' must be a function or have a 'validate' method.")}(e,t),V(e,"object"!=typeof t?{validate:t}:t)},e.setI18nDriver=function(e){R.setDriver(e)},e.setMode=function(e,t){if(S({mode:e}),t){if(!l(t))throw new Error("A mode implementation must be a function");C[e]=t}},e.version="3.0.0-beta.0",e.withValidation=function(e,d){void 0===d&&(d=o);var f="options"in e?e.options:e,t=U.options,r={name:(f.name||"AnonymousHoc")+"WithValidation",props:h({},t.props),data:t.data,computed:h({},t.computed),methods:h({},t.methods),beforeDestroy:t.beforeDestroy,inject:t.inject},v=f.model&&f.model.event||"input";return r.render=function(e){var t;this.registerField();var r=G(this),n=h({},this.$listeners),i=F(this.$vnode);this._inputEventName=this._inputEventName||B(this.$vnode,i),Y(this,i);var a=K(this),s=a.onInput,o=a.onBlur,u=a.onValidate;T(n,v,s),T(n,"blur",o),this.normalizedEvents.forEach(function(e){T(n,e,u)});var l=(M(this.$vnode)||{prop:"value"}).prop,c=h({},this.$attrs,((t={})[l]=i.value,t),d(r));return e(f,{attrs:this.$attrs,props:c,on:n},function(r,n){return Object.keys(r).reduce(function(e,t){return r[t].forEach(function(e){e.context||(r[t].context=n,e.data||(e.data={}),e.data.slot=t)}),e.concat(r[t])},[])}(this.$slots,this.$vnode.context))},r},Object.defineProperty(e,"__esModule",{value:!0})});